From 9e362b1a9ce5440384658e4c757e623f19db9cc9 Mon Sep 17 00:00:00 2001
From: tisenu100 <tisenu100@github.com>
Date: Sat Apr 26 18:32:32 2025 +0300
Subject: [PATCH] Lower Signature Version requirements to one

---

diff --git a/smali/android/content/pm/PackageParser.smali b/smali/android/content/pm/PackageParser.smali
index 72793ba8..705a0891 100644
--- a/smali/android/content/pm/PackageParser.smali
+++ b/smali/android/content/pm/PackageParser.smali
@@ -1189,7 +1189,7 @@
 
     if-eqz v2, :cond_0
 
-    const/4 v1, 0x2
+    const/4 v1, 0x1
 
     :cond_0
     invoke-static {}, Landroid/content/pm/parsing/result/ParseTypeImpl;->forDefaultParsing()Landroid/content/pm/parsing/result/ParseTypeImpl;
diff --git a/smali_classes4/android/util/apk/ApkSignatureVerifier.smali b/smali_classes4/android/util/apk/ApkSignatureVerifier.smali
index afa4830c..83d746de 100644
--- a/smali_classes4/android/util/apk/ApkSignatureVerifier.smali
+++ b/smali_classes4/android/util/apk/ApkSignatureVerifier.smali
@@ -204,15 +204,6 @@
 .method public static blacklist getMinimumSignatureSchemeVersionForTargetSdk(I)I
     .locals 1
 
-    const/16 v0, 0x1e
-
-    if-lt p0, v0, :cond_0
-
-    const/4 v0, 0x2
-
-    return v0
-
-    :cond_0
     const/4 v0, 0x1
 
     return v0
diff --git a/smali_classes5/com/android/internal/pm/pkg/parsing/ParsingPackageUtils.smali b/smali_classes5/com/android/internal/pm/pkg/parsing/ParsingPackageUtils.smali
index 9b723724..b6da0b69 100644
--- a/smali_classes5/com/android/internal/pm/pkg/parsing/ParsingPackageUtils.smali
+++ b/smali_classes5/com/android/internal/pm/pkg/parsing/ParsingPackageUtils.smali
@@ -904,7 +904,7 @@
 
     if-eqz p3, :cond_0
 
-    const/4 v0, 0x2
+    const/4 v0, 0x1
 
     :cond_0
     if-eqz p2, :cond_1
-- 
2.48.1